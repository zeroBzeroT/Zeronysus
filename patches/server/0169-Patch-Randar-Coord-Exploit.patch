From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Florian=20H=C3=BCbner?= <fhuebner@posteo.de>
Date: Wed, 17 Apr 2024 18:56:55 +0200
Subject: [PATCH] Patch Randar Coord Exploit


diff --git a/src/main/java/net/minecraft/server/World.java b/src/main/java/net/minecraft/server/World.java
index 27bea26b4af5b175936ef121433c8186163ff3a8..54b1cdf8f9f27b1a7713399591d1132298c5066b 100644
--- a/src/main/java/net/minecraft/server/World.java
+++ b/src/main/java/net/minecraft/server/World.java
@@ -89,6 +89,9 @@ public abstract class World implements IBlockAccess {
     protected float q;
     private int M;
     public final Random random = new Random();
+    // Zeronysus start
+    private final Random separateRandOnlyForWorldGen = new Random();
+    // Zeronysus end
     public WorldProvider worldProvider;
     protected NavigationListener t = new NavigationListener();
     protected List<IWorldAccess> u;
@@ -3225,8 +3228,10 @@ public abstract class World implements IBlockAccess {
     public Random a(int i, int j, int k) {
         long l = (long) i * 341873128712L + (long) j * 132897987541L + this.getWorldData().getSeed() + (long) k;
 
-        this.random.setSeed(l);
-        return this.random;
+        // Zeronysus start
+        this.separateRandOnlyForWorldGen.setSeed(l);
+        return this.separateRandOnlyForWorldGen;
+        // Zeronysus end
     }
 
     public CrashReportSystemDetails a(CrashReport crashreport) {
